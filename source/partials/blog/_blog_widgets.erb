<aside class="blog-widgets">
  <ul class="widget">
    <li><h5 class="heading">Recent Articles</h5></li>
    <li>
      <ol>
        <% blog.articles[0...5].each do |article| %>
          <li>
            <%= link_to article.title, article %>
          </li>
        <% end %>
      </ol>
    </li>
  </ul>

  <ul class="widget">
    <li><h5>All articles</h5></li>
    <li>
      <ol>
        <% blog.articles.group_by {|a| a.date.year }.each do |year, articlesByYear| %>
          <li><%= year %></li>
          <ol>
            <% articlesByYear.group_by {|b| b.date.month }.each do |month, articles| %>
              <li><%= link_to "#{month_to_name(month)} (#{articles.size})", blog_month_path(year, month) %></li>
            <% end %>
          </ol>
        <% end %>
      </ol>
    </li>
  </ul>

  <ul class="widget">
    <li><h5 class="heading">Tags</h5></li>
    <li>
      <ol>
        <% blog.tags.each do |tag, articles| %>
          <%# <%= link_to "#{tag} (#{articles.size})", tag_path(tag), class: "tag" %>
          <%= link_to "#{tag}", tag_path(tag), class: "tag" %>
        <% end %>
      </ol>
    </li>
  </ul>

</aside>
